#!/usr/bin/env python3
import numpy as np
from numpy import *
u = np.array(
	[
		[ 0.0, 0.0, 0.0, 0.0, 0.0,
		  0.0, 1.0, 1.0, 0.0, 0.0,
		  0.0, 0.0, 1.0, 0.0, 0.0,
		  0.0, 0.0, 1.0, 0.0, 0.0,
		  0.0, 0.0, 1.0, 0.0, 0.0, 1.0
		   ],
		[ 0.0, 0.0, 1.0, 1.0, 0.0,
		  0.0, 0.0, 0.0, 1.0, 0.0,
		  0.0, 0.0, 0.0, 1.0, 0.0,
		  0.0, 0.0, 0.0, 0.0, 0.0,
		  0.0, 0.0, 0.0, 0.0, 0.0, 1.0
		   ],
		 [ 0.0, 0.0, 0.0, 0.0, 0.0,
	 	  1.0, 1.0, 0.0, 0.0, 0.0,
	 	  0.0, 1.0, 0.0, 0.0, 0.0,
	 	  0.0, 1.0, 0.0, 0.0, 0.0,
	 	  0.0, 1.0, 0.0, 0.0, 0.0, 1.0
	 	   ],
		  [ 0.0, 0.0, 0.0, 0.0, 0.0,
		   0.0, 1.0, 1.0, 1.0, 0.0,
		   0.0, 1.0, 0.0, 1.0, 0.0,
	  	   0.0, 1.0, 1.0, 1.0, 0.0,
		   0.0, 0.0, 0.0, 0.0, 0.0, 1.0
		  ],
		  [ 0.0, 0.0, 0.0, 0.0, 0.0,
		    0.0, 0.0, 0.0, 0.0, 0.0,
		    1.0, 1.0, 1.0, 0.0, 0.0,
		    1.0, 0.0, 1.0, 0.0, 0.0,
	 	    1.0, 1.0, 1.0, 0.0, 0.0, 1.0
			]
	], dtype('float64'))

w = np.array([
	[1.0, 1.0, 1.0, 1.0, 1.0,
	1.0, 1.0, 1.0, 1.0, 1.0,
     1.0, 1.0, 1.0, 1.0, 1.0,
	 1.0, 1.0, 1.0, 1.0, 1.0,
	 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
	 ]], dtype('float64'))

def f(x):
	if x >= 0:
		return 1.0
	else:
		return 0.0

def z(t):
	if t%5 == 3 or t%5 == 4:
		return 0.0
	else:
		return 1.0

def y(w, t):
	return f(np.dot(w, u[t%5]))

c = 0.1

s = 5
t = 0
counter = 0

while counter !=s:
	r = f(np.dot(w, u[t%5]))
	#x = w + c*(z(t)-r)*u[t%5]
	w = w + c*(z(t)-y(w, t))*u[t%5]
	#if (x == x2).all():
	#	 print("O cie chuj")
	#w = x
	#print(t%5, z(t), r)
	if z(t) == r:
		counter = counter + 1
	else:
		counter = 0
	t = t+1

print("t: ", t+1)
print("wt: ", w)
